webdriver {
    # Usamos el driver de chrome ya que Brave es base Chromium
    driver = chrome
    autodownload = true
    
    # URL base de la aplicación - se usa en todas las pruebas
    base.url = "http://localhost:8081"
    
    # Timeouts configurables
    timeouts {
        implicitlywait = 10000
        fluentwait = 10000
    }

    capabilities {
        "goog:chromeOptions" {
            # Ruta específica para Brave en macOS
            binary = "/Applications/Brave Browser.app/Contents/MacOS/Brave Browser"

            # Argumentos para visualización (SIN headless para ver el navegador)
            args = [
                "start-maximized",
                "disable-infobars",
                "disable-gpu",
                "disable-default-apps",
                "disable-popup-blocking",
                "remote-allow-origins=*"
                # NO incluimos headless para que se vea el navegador
                # NO incluimos incognito para facilitar debugging
            ]
        }
    }
}

# Configuración de Serenity para mejores reportes y visualización
serenity {
    take.screenshots = FOR_EACH_ACTION
    console.colors = true
    logging = VERBOSE
    test.root = co.edu.udea.certificacion.sprint3
    
    # Delay entre acciones para visualización (en milisegundos)
    # Esto hace que las pruebas sean más lentas pero visibles
    step.delay = 1000
}

# Configuración del entorno (opcional)
environments {
    default {
        webdriver.base.url = "http://localhost:8081"
    }
    
    dev {
        webdriver.base.url = "http://localhost:8081"
    }
    
    qa {
        webdriver.base.url = "http://qa.innosistemas.com"
    }
    
    staging {
        webdriver.base.url = "http://staging.innosistemas.com"
    }
    
    prod {
        webdriver.base.url = "http://innosistemas.com"
    }
}